
<!doctype html>
<html>
  <head>
    <link href="images/favicon-57.png" rel="icon" type="image/png" />
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <a href="/"><img src="images/ffiec-logo.svg" class="logo" alt="FFIEC Logo" /></a>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#hmda-api-documentation" class="toc-h1 toc-link" data-title="HMDA API Documentation">HMDA API Documentation</a>
          </li>
          <li>
            <a href="#hmda-filing-api" class="toc-h1 toc-link" data-title="HMDA Filing API">HMDA Filing API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#hmda-filing-api-authorization" class="toc-h2 toc-link" data-title="Authorization">Authorization</a>
                  </li>
                  <li>
                    <a href="#hmda-filing-api-postman-collection" class="toc-h2 toc-link" data-title="Postman Collection">Postman Collection</a>
                  </li>
                  <li>
                    <a href="#hmda-filing-api-filing-process" class="toc-h2 toc-link" data-title="Filing Process">Filing Process</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#hmda-filing-api-filing-process-object-hierarchy" class="toc-h3 toc-link" data-title="Object Hierarchy">Object Hierarchy</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-filing-process-submission-status" class="toc-h3 toc-link" data-title="Submission Status">Submission Status</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#hmda-filing-api-filing-process-submission-status-submission-status-codes" class="toc-h4 toc-link" data-title="Submission Status Codes">Submission Status Codes</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#hmda-filing-api-endpoints" class="toc-h2 toc-link" data-title="Endpoints">Endpoints</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#hmda-filing-api-endpoints-start-a-filing" class="toc-h3 toc-link" data-title="Start a Filing">Start a Filing</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-get-a-filing" class="toc-h3 toc-link" data-title="Get a Filing">Get a Filing</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-create-a-submission" class="toc-h3 toc-link" data-title="Create a Submission">Create a Submission</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-get-the-latest-submission" class="toc-h3 toc-link" data-title="Get the Latest Submission">Get the Latest Submission</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-upload-a-file" class="toc-h3 toc-link" data-title="Upload a File">Upload a File</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-view-parsing-errors" class="toc-h3 toc-link" data-title="View Parsing Errors">View Parsing Errors</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-view-all-edits" class="toc-h3 toc-link" data-title="View All Edits">View All Edits</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-view-edit-details" class="toc-h3 toc-link" data-title="View Edit Details">View Edit Details</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-verify-quality-edits" class="toc-h3 toc-link" data-title="Verify Quality Edits">Verify Quality Edits</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-verify-macro-edits" class="toc-h3 toc-link" data-title="Verify Macro Edits">Verify Macro Edits</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-sign-a-submission" class="toc-h3 toc-link" data-title="Sign a Submission">Sign a Submission</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-get-sign-receipt" class="toc-h3 toc-link" data-title="Get Sign receipt">Get Sign receipt</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-endpoints-get-submission-summary" class="toc-h3 toc-link" data-title="Get Submission Summary">Get Submission Summary</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#hmda-filing-api-quarterly-filing" class="toc-h2 toc-link" data-title="Quarterly Filing">Quarterly Filing</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#beta-hmda-filing-api" class="toc-h1 toc-link" data-title="Beta HMDA Filing API">Beta HMDA Filing API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#beta-hmda-filing-api-authorization" class="toc-h2 toc-link" data-title="Authorization">Authorization</a>
                  </li>
                  <li>
                    <a href="#beta-hmda-filing-api-postman-collection" class="toc-h2 toc-link" data-title="Postman Collection">Postman Collection</a>
                  </li>
                  <li>
                    <a href="#beta-hmda-filing-api-filing-process" class="toc-h2 toc-link" data-title="Filing Process">Filing Process</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#beta-hmda-filing-api-filing-process-object-hierarchy" class="toc-h3 toc-link" data-title="Object Hierarchy">Object Hierarchy</a>
                          </li>
                          <li>
                            <a href="#beta-hmda-filing-api-filing-process-submission-status" class="toc-h3 toc-link" data-title="Submission Status">Submission Status</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#beta-hmda-filing-api-filing-process-submission-status-submission-status-codes" class="toc-h4 toc-link" data-title="Submission Status Codes">Submission Status Codes</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#beta-hmda-filing-api-endpoints" class="toc-h2 toc-link" data-title="Endpoints">Endpoints</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#beta-hmda-filing-api-endpoints-start-a-filing" class="toc-h3 toc-link" data-title="Start a Filing">Start a Filing</a>
                          </li>
                          <li>
                            <a href="#beta-hmda-filing-api-endpoints-get-a-filing" class="toc-h3 toc-link" data-title="Get a Filing">Get a Filing</a>
                          </li>
                          <li>
                            <a href="#beta-hmda-filing-api-endpoints-create-a-submission" class="toc-h3 toc-link" data-title="Create a Submission">Create a Submission</a>
                          </li>
                          <li>
                            <a href="#beta-hmda-filing-api-endpoints-get-the-latest-submission" class="toc-h3 toc-link" data-title="Get the Latest Submission">Get the Latest Submission</a>
                          </li>
                          <li>
                            <a href="#beta-hmda-filing-api-endpoints-upload-a-file" class="toc-h3 toc-link" data-title="Upload a File">Upload a File</a>
                          </li>
                          <li>
                            <a href="#beta-hmda-filing-api-endpoints-view-parsing-errors" class="toc-h3 toc-link" data-title="View Parsing Errors">View Parsing Errors</a>
                          </li>
                          <li>
                            <a href="#beta-hmda-filing-api-endpoints-view-all-edits" class="toc-h3 toc-link" data-title="View All Edits">View All Edits</a>
                          </li>
                          <li>
                            <a href="#beta-hmda-filing-api-endpoints-view-edit-details" class="toc-h3 toc-link" data-title="View Edit Details">View Edit Details</a>
                          </li>
                          <li>
                            <a href="#beta-hmda-filing-api-endpoints-verify-quality-edits" class="toc-h3 toc-link" data-title="Verify Quality Edits">Verify Quality Edits</a>
                          </li>
                          <li>
                            <a href="#beta-hmda-filing-api-endpoints-verify-macro-edits" class="toc-h3 toc-link" data-title="Verify Macro Edits">Verify Macro Edits</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#hmda-public-verification-api" class="toc-h1 toc-link" data-title="HMDA Public Verification API">HMDA Public Verification API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#hmda-public-verification-api-single-ts-verification" class="toc-h2 toc-link" data-title="Single TS Verification">Single TS Verification</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#hmda-public-verification-api-single-ts-verification-parse-ts" class="toc-h3 toc-link" data-title="Parse TS">Parse TS</a>
                          </li>
                          <li>
                            <a href="#hmda-public-verification-api-single-ts-verification-validate-ts" class="toc-h3 toc-link" data-title="Validate TS">Validate TS</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#hmda-public-verification-api-single-lar-verification" class="toc-h2 toc-link" data-title="Single LAR Verification">Single LAR Verification</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#hmda-public-verification-api-single-lar-verification-parse-a-lar" class="toc-h3 toc-link" data-title="Parse a LAR">Parse a LAR</a>
                          </li>
                          <li>
                            <a href="#hmda-public-verification-api-single-lar-verification-validate-a-lar" class="toc-h3 toc-link" data-title="Validate a LAR">Validate a LAR</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#hmda-public-verification-api-full-hmda-file-verification" class="toc-h2 toc-link" data-title="Full HMDA File Verification">Full HMDA File Verification</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#hmda-public-verification-api-full-hmda-file-verification-parse-a-hmda-file" class="toc-h3 toc-link" data-title="Parse a HMDA File">Parse a HMDA File</a>
                          </li>
                          <li>
                            <a href="#hmda-public-verification-api-full-hmda-file-verification-validate-a-hmda-file" class="toc-h3 toc-link" data-title="Validate a HMDA File">Validate a HMDA File</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#data-browser-api" class="toc-h1 toc-link" data-title="Data Browser API">Data Browser API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#data-browser-api-hmda-data-endpoints" class="toc-h2 toc-link" data-title="HMDA Data Endpoints">HMDA Data Endpoints</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#data-browser-api-hmda-data-endpoints-hmda-data-endpoints" class="toc-h3 toc-link" data-title="HMDA Data Endpoints">HMDA Data Endpoints</a>
                          </li>
                          <li>
                            <a href="#data-browser-api-hmda-data-endpoints-supported-geographic-filters" class="toc-h3 toc-link" data-title="Supported Geographic Filters">Supported Geographic Filters</a>
                          </li>
                          <li>
                            <a href="#data-browser-api-hmda-data-endpoints-hmda-data-filters" class="toc-h3 toc-link" data-title="HMDA Data Filters">HMDA Data Filters</a>
                          </li>
                          <li>
                            <a href="#data-browser-api-hmda-data-endpoints-aggregation-example" class="toc-h3 toc-link" data-title="Aggregation Example">Aggregation Example</a>
                          </li>
                          <li>
                            <a href="#data-browser-api-hmda-data-endpoints-csv-example" class="toc-h3 toc-link" data-title="CSV Example">CSV Example</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#data-browser-api-hmda-filers" class="toc-h2 toc-link" data-title="HMDA Filers">HMDA Filers</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#data-browser-api-hmda-filers-hmda-filer-parameters" class="toc-h3 toc-link" data-title="HMDA Filer Parameters">HMDA Filer Parameters</a>
                          </li>
                          <li>
                            <a href="#data-browser-api-hmda-filers-hmda-filers-example" class="toc-h3 toc-link" data-title="HMDA Filers Example">HMDA Filers Example</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#data-browser-api-errors" class="toc-h2 toc-link" data-title="Errors">Errors</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rate-spread" class="toc-h1 toc-link" data-title="Rate Spread">Rate Spread</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#rate-spread-rate-spread-api" class="toc-h2 toc-link" data-title="Rate Spread API">Rate Spread API</a>
                  </li>
                  <li>
                    <a href="#rate-spread-rate-spread-parameters" class="toc-h2 toc-link" data-title="Rate Spread Parameters">Rate Spread Parameters</a>
                  </li>
                  <li>
                    <a href="#rate-spread-single-ratespread" class="toc-h2 toc-link" data-title="Single Ratespread">Single Ratespread</a>
                  </li>
                  <li>
                    <a href="#rate-spread-batch-ratespreads" class="toc-h2 toc-link" data-title="Batch Ratespreads">Batch Ratespreads</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#check-digit" class="toc-h1 toc-link" data-title="Check Digit">Check Digit</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#check-digit-batch-ratespreads-check-digit-endpoints" class="toc-h2 toc-link" data-title="Check Digit Endpoints">Check Digit Endpoints</a>
                  </li>
                  <li>
                    <a href="#check-digit-batch-ratespreads-single-check-digit-generation" class="toc-h2 toc-link" data-title="Single Check Digit Generation">Single Check Digit Generation</a>
                  </li>
                  <li>
                    <a href="#check-digit-batch-ratespreads-batch-check-digit-generation" class="toc-h2 toc-link" data-title="Batch Check Digit Generation">Batch Check Digit Generation</a>
                  </li>
                  <li>
                    <a href="#check-digit-batch-ratespreads-batch-check-digit-generation-bad-request" class="toc-h2 toc-link" data-title="Batch Check Digit Generation (Bad Request)">Batch Check Digit Generation (Bad Request)</a>
                  </li>
                  <li>
                    <a href="#check-digit-batch-ratespreads-single-check-digit-validation" class="toc-h2 toc-link" data-title="Single Check Digit Validation">Single Check Digit Validation</a>
                  </li>
                  <li>
                    <a href="#check-digit-batch-ratespreads-batch-check-digit-validation" class="toc-h2 toc-link" data-title="Batch Check Digit Validation">Batch Check Digit Validation</a>
                  </li>
                  <li>
                    <a href="#check-digit-batch-ratespreads-batch-check-digit-validation-bad-request" class="toc-h2 toc-link" data-title="Batch Check Digit Validation(Bad Request)">Batch Check Digit Validation(Bad Request)</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='hmda-api-documentation'>HMDA API Documentation</h1>
<p>The HMDA Platform API helps to prepare and test your HMDA data by allowing you to calculate rate spread, check a single LAR for formatting errors, generate/validate a check digit, and more.</p>
<h1 id='hmda-filing-api'>HMDA Filing API</h1>
<p>The following documentation addresses the process for filing a HMDA file and the associated APIs.</p>

<p>This API is what powers the <a href="https://ffiec.cfpb.gov/filing/">HMDA Filing Platform application</a></p>
<h2 id='hmda-filing-api-authorization'>Authorization</h2>
<p>To file HMDA data using the API, a <em>bearer</em> authorization token is required for all api calls. To acquire an authorization token use the <code>/auth</code> endpoint with your username and password as payload.</p>

<p>For local development, no authorization is needed. See <a href="https://github.com/cfpb/hmda-platform#one-line-local-development-environment-no-auth">One-line Local Development Environment (No Auth)</a> for more info.</p>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight plaintext"><code>  curl -X POST \
  "https://ffiec.cfpb.gov/auth/realms/hmda2/protocol/openid-connect/token" \
  -d 'client_id=hmda2-api&amp;grant_type=password&amp;username={{username}}%40{{bank_domain}}&amp;password={{password}}'
</code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/auth/realms/hmda2/protocol/openid-connect/token</code></td>
</tr>
<tr>
<td>Payload</td>
<td>client_id=hmda2-api <br> grant_type=password <br> username={{username}}%40{{bank_domain}} <br> password={{password}}</td>
</tr>
</tbody></table>
<h2 id='hmda-filing-api-postman-collection'>Postman Collection</h2>
<p>The <a href="https://github.com/cfpb/hmda-platform/tree/master/newman/postman">HMDA Postman Collection</a> has been prepared to simplify the process of using the HMDA Platform Filing APIs.</p>

<p><a href="https://www.postman.com/product/api-client/">Postman</a> is a client side application that allows users to easily construct API calls and import external API collections.</p>
<h2 id='hmda-filing-api-filing-process'>Filing Process</h2>
<p>Submission of a HMDA file flows in the following steps which are mirriored in the submission status codes:</p>

<ol>
<li>Create a Filing: These are unique per institution per filing season and are created by the HMDA-Ops teams in preperation for each filing season.</li>
<li>Create a Submission: Submissions are the primary object in a HMDA Filing. They are created within a filing and each is able to accept a single file upload. Many submissions can be created for a filing and they carry an id which is incrimented.</li>
<li>Upload a File: A file is then uploaded to the submission which was created. Only one file can be uploaded to a submission. To upload a new file you must create a new submission.</li>
<li>Check the status of the Submission the file was uploaded to: If parsing syntactical or validity edits are triggered a new file must be uploaded.</li>
<li>Validate Quality Edits: Review triggered Quality Edits and confirm the submitted data are correct.</li>
<li>Validate Macro Edits: Review triggered Macro Edits and confirm the submitted data are correct.</li>
<li>Sign the Submission: Perform final review of the data and complete the HMDA filing.</li>
</ol>
<h3 id='hmda-filing-api-filing-process-object-hierarchy'>Object Hierarchy</h3>
<p><img src="../images/filingObjectHierarchy.png"></p>
<h3 id='hmda-filing-api-filing-process-submission-status'>Submission Status</h3>
<p>As a submission represents a HMDA filing the submission status is the best way to see the state of a HMDA filing. It will be useful to query for 
the submission status often throughout the process of uploading and checking edits for a submission.</p>
<h4 id='hmda-filing-api-filing-process-submission-status-submission-status-codes'>Submission Status Codes</h4>
<blockquote>
<p><strong>Example</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "id": {
    "lei": "12345abc",
    "period": "2020",
    "sequenceNumber": 3
  },
  "status": {
    "code": 1,
    "message": "No data has been uploaded yet.",
    "description": "The filing period is open and available to accept HMDA data. Make sure your data is in a pipe-delimited text file."
  },
  "start": 0,
  "end": 0,
  "fileName": "test.txt",
  "receipt": ""
}
</code></pre>
<p>In order to track the status of a filing for a financial institution, the following states are captured by the backend:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>No data has been uploaded yet.</td>
<td>The filing period is open and available to accept HMDA data. Make sure your data is in a pipe-delimited text file.</td>
</tr>
<tr>
<td>2</td>
<td>Your file is uploading.</td>
<td>Your file is currently being uploaded to the HMDA Platform.</td>
</tr>
<tr>
<td>3</td>
<td>Your file has been uploaded.</td>
<td>Your data is ready to be analyzed.</td>
</tr>
<tr>
<td>4</td>
<td>Checking the formatting of your data.</td>
<td>Your file is being analyzed to ensure that it meets formatting requirements specified in the HMDA Filing Instructions Guide.</td>
</tr>
<tr>
<td>5</td>
<td>Your data has formatting errors.</td>
<td>Review these errors and update your file. Then, upload the corrected file.</td>
</tr>
<tr>
<td>6</td>
<td>Your data is formatted correctly.</td>
<td>Your file meets the formatting requirements specified in the HMDA Filing Instructions Guide. Your data will now be analyzed for any edits.</td>
</tr>
<tr>
<td>7</td>
<td>Your data is being analyzed.</td>
<td>Your data has been uploaded and is being checked for any edits.</td>
</tr>
<tr>
<td>8</td>
<td>Your data has been analyzed for Syntactical and Validity Errors.</td>
<td>Your file has been analyzed and does not contain any Syntactical or Validity errors.</td>
</tr>
<tr>
<td>9</td>
<td>Your data has syntactical and/or validity edits that need to be reviewed.</td>
<td>Your file has been uploaded, but the filing process may not proceed until the file is corrected and re-uploaded.</td>
</tr>
<tr>
<td>10</td>
<td>Your data has been analyzed for Quality Errors.</td>
<td>Your file has been analyzed, and does not contain quality errors.</td>
</tr>
<tr>
<td>11</td>
<td>Your data has quality edits that need to be reviewed.</td>
<td>Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded.</td>
</tr>
<tr>
<td>12</td>
<td>Your data has been analyzed for macro errors.</td>
<td>Your file has been analyzed, and does not contain macro errors.</td>
</tr>
<tr>
<td>13</td>
<td>Your data has macro edits that need to be reviewed.</td>
<td>Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded.</td>
</tr>
<tr>
<td>14</td>
<td>Your data is ready for submission.</td>
<td>Your financial institution has certified that the data is correct, but it has not been submitted yet.</td>
</tr>
<tr>
<td>15</td>
<td>Your submission has been accepted.</td>
<td>This completes your HMDA filing process for this year. If you need to upload a new HMDA file, the previously completed filing will not be overridden until all edits have been cleared and verified, and the new file has been submitted.</td>
</tr>
<tr>
<td>-1</td>
<td>An error occurred while submitting the data.</td>
<td>Please re-upload your file.</td>
</tr>
</tbody></table>
<h2 id='hmda-filing-api-endpoints'>Endpoints</h2><h3 id='hmda-filing-api-endpoints-start-a-filing'>Start a Filing</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}&quot; \
  -H &#39;Authorization: Bearer  {{access_token}}&#39; \</p>

<p><b>JSON Response:</b>
{
    &quot;filing&quot;: {
        &quot;period&quot;: &quot;2020&quot;,
        &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
        &quot;status&quot;: {
            &quot;code&quot;: 2,
            &quot;message&quot;: &quot;in-progress&quot;
        },
        &quot;filingRequired&quot;: true,
        &quot;start&quot;: 1572378187454,
        &quot;end&quot;: 0
    },
    &quot;submissions&quot;: []
}
</pre></code></p>

<p>For evey filing period, you must begin by starting a filing. This only needs to be done once per filing season. In the production HMDA filing application this will have already been creaed. 
The <code>POST</code> will result in a <code>200</code> only for the first time it&#39;s called. If the filing for the given filing period already exists, the <code>POST</code> will return a <code>400</code>.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-get-a-filing'>Get a Filing</h3>
<p>This endpoint can be used to confirm that a filing exists for the relevant period.</p>

<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X GET \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}&quot; \
  -H &#39;Authorization: Bearer  {{access_token}}&#39; \</p>

<p><b>JSON Response:</b>
{
    &quot;filing&quot;: {
        &quot;period&quot;: &quot;2020&quot;,
        &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
        &quot;status&quot;: {
            &quot;code&quot;: 2,
            &quot;message&quot;: &quot;in-progress&quot;
        },
        &quot;filingRequired&quot;: true,
        &quot;start&quot;: 1572378187454,
        &quot;end&quot;: 0
    },
    &quot;submissions&quot;: []
}
</pre></code></p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-create-a-submission'>Create a Submission</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \</p>

<p>A submission must be created for each file upload. More than one submission can be created for a filing period. The most recent submission will be considered the latest submission. Each <code>POST</code> on the submission endpoint will return a new submission number.</p>

<p><b>JSON Response:</b>
{
    &quot;id&quot;: {
        &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
        &quot;period&quot;: &quot;2020&quot;,
        &quot;sequenceNumber&quot;: 10
    },
    &quot;status&quot;: {
        &quot;code&quot;: 1,
        &quot;message&quot;: &quot;No data has been uploaded yet.&quot;,
        &quot;description&quot;: &quot;The filing period is open and available to accept HMDA data. Make sure your data is in a pipe-delimited text file.&quot;
    },
    &quot;start&quot;: 1572358820303,
    &quot;end&quot;: 0,
    &quot;fileName&quot;: &quot;&quot;,
    &quot;receipt&quot;: &quot;&quot;
}
</pre></code></p>

<p>A submission must be created for each file upload. More than one submission can be created for a filing period. The most recent submission will be considered the latest submission. Each <code>POST</code> on the submission endpoint will return a new submission number.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}/submissions</code></td>
</tr>
<tr>
<td>Headers</td>
<td>{{access_token}}</td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-get-the-latest-submission'>Get the Latest Submission</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X GET \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/latest&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \</p>

<p><b>JSON Response:</b>
{
    &quot;id&quot;: {
        &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
        &quot;period&quot;: &quot;2020&quot;,
        &quot;sequenceNumber&quot;: 10
    },
    &quot;status&quot;: {
        &quot;code&quot;: 13,
        &quot;message&quot;: &quot;Your data has macro edits that need to be reviewed.&quot;,
        &quot;description&quot;: &quot;Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded.&quot;
    },
    &quot;start&quot;: 1572372016130,
    &quot;end&quot;: 0,
    &quot;fileName&quot;: &quot;clean_file_10.txt&quot;,
    &quot;receipt&quot;: &quot;&quot;,
    &quot;qualityVerified&quot;: false,
    &quot;macroVerified&quot;: false,
    &quot;qualityExists&quot;: true,
    &quot;macroExists&quot;: true
}
</pre></code></p>

<p>Returns details about the last created submission including it&#39;s sequence number and status.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}/submissions/latest</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-upload-a-file'>Upload a File</h3>
<blockquote>
<p>Example Request and Response</p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/10&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \
  -H &#39;content-type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW&#39; \
  -F file=<file.csv></p>

<p><b>JSON Response:</b>
{
    &quot;id&quot;: {
        &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
        &quot;period&quot;: &quot;2020&quot;,
        &quot;sequenceNumber&quot;: 10
    },
    &quot;status&quot;:{
        &quot;code&quot;: 3,
        &quot;message&quot;: &quot;Your file has been uploaded.&quot;,
        &quot;description&quot;: &quot;Your data is ready to be analyzed.&quot;
    },
    &quot;start&quot;: 1572372016130,
    &quot;end&quot;: 0,
    &quot;fileName&quot;: &quot;&quot;,
    &quot;receipt&quot;: &quot;&quot;
}
</pre></code></p>

<p>Upload a file to a submission.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code>, <code>&#39;Content-Type&#39;: multipart/form-data</code></td>
</tr>
<tr>
<td>Payload</td>
<td>LAR file</td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-view-parsing-errors'>View Parsing Errors</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/10/parseErrors&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39;</p>

<p><b>JSON Response</b>
{
    &quot;transmittalSheetErrors&quot;: [],
    &quot;larErrors&quot;: [],
    &quot;count&quot;: 0,
    &quot;total&quot;: 0,
    &quot;status&quot;: {
        &quot;code&quot;: 5,
        &quot;message&quot;: &quot;Your data has formatting errors.&quot;,
        &quot;description&quot;: &quot;Review these errors and update your file. Then, upload the corrected file.&quot;
    },
    &quot;_links&quot;: {
        &quot;href&quot;: &quot;/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/24/parseErrors{rel}&quot;,
        &quot;self&quot;: &quot;?page=1&quot;,
        &quot;first&quot;: &quot;?page=1&quot;,
        &quot;prev&quot;: &quot;?page=1&quot;,
        &quot;next&quot;: &quot;?page=0&quot;,
        &quot;last&quot;: &quot;?page=0&quot;
    }
}
</pre></code></p>

<p>Returns a list of all parsing errors triggered by the file uploaded to a submission.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/parseErrors</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-view-all-edits'>View All Edits</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X GET \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/24/edits&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39;</p>

<p><b>JSON Response:</b>
{
    &quot;syntactical&quot;: {
        &quot;edits&quot;: []
    },
    &quot;validity&quot;: {
        &quot;edits&quot;: []
    },
    &quot;quality&quot;: {
        &quot;edits&quot;: [
            {
                &quot;edit&quot;: &quot;Q630&quot;,
                &quot;description&quot;: &quot;If Total Units is greater than or equal to 5, then HOEPA Status generally should equal 3.&quot;
            },
            {
                &quot;edit&quot;: &quot;Q631&quot;,
                &quot;description&quot;: &quot;If Loan Type equals 2, 3 or 4, then Total Units generally should be less than or equal to 4.&quot;
            }
        ],
        &quot;verified&quot;: false
    },
    &quot;macro&quot;: {
        &quot;edits&quot;: [
            {
                &quot;edit&quot;: &quot;Q637&quot;,
                &quot;description&quot;: &quot;No more than 15% of the loans in the file should report Action Taken equals 5. Your data indicates a percentage outside of this range.&quot;
            }
        ],
        &quot;verified&quot;: false
    },
    &quot;status&quot;: {
        &quot;code&quot;: 13,
        &quot;message&quot;: &quot;Your data has macro edits that need to be reviewed.&quot;,
        &quot;description&quot;: &quot;Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded.&quot;,
        &quot;qualityVerified&quot;: false,
        &quot;macroVerified&quot;: false
    }
}
</pre></code></p>

<p>Returns a summary of all edits triggered by an upload in a submission.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/edits</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-view-edit-details'>View Edit Details</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X GET \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/24/edits/Q631&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39;</p>

<p><b>JSON Response:</b>
{
    &quot;edit&quot;: &quot;Q631&quot;,
    &quot;rows&quot;: [
        {
           &quot;id&quot;: &quot;B90YWS6AFX2LGWOXJ1LDHHXWCDPM0ZEHW08FFTXGRXT62&quot;,
           &quot;fields&quot;: [
               {
                   &quot;name&quot;: &quot;Loan Type&quot;,
                   &quot;value&quot;: &quot;3&quot;
               },
               {
                   &quot;name&quot;: &quot;Total Units&quot;,
                   &quot;value&quot;: &quot;16&quot;
               }
           ]
       }
   ],
   &quot;count&quot;: 20,
   &quot;total&quot;: 54,
   &quot;_links&quot;: {
       &quot;href&quot;: &quot;/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/24/edits/Q631{rel}&quot;,
       &quot;self&quot;: &quot;?page=1&quot;,
       &quot;first&quot;: &quot;?page=1&quot;,
       &quot;prev&quot;: &quot;?page=1&quot;,
       &quot;next&quot;: &quot;?page=2&quot;,
       &quot;last&quot;: &quot;?page=3&quot;
   }
}
</pre></code></p>

<p>Returns more information about a specific edit including a list of lines that triggered the edit and the relevant fields from those lines.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/edits/{{edit_code}}</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-verify-quality-edits'>Verify Quality Edits</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}/edits/quality&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \
  -d &#39;{&quot;verified&quot;: true}&#39;</p>

<p><b>JSON Response:</b>
{
    &quot;verified&quot;: true,
    &quot;status&quot;: {
        &quot;code&quot;: 13,
        &quot;message&quot;: &quot;Your data has macro edits that need to be reviewed.&quot;,
        &quot;description&quot;: &quot;Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded.&quot;
    }
}
</pre></code></p>

<p>Verify that the uploaded data is correct and that the reported quality edits are not relevent to the submission.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/edits/quality</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
<tr>
<td>Body</td>
<td><code>{&quot;verified&quot;: true}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-verify-macro-edits'>Verify Macro Edits</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}/edits/macro&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \
  -d &#39;{&quot;verified&quot;: true}&#39;</p>

<p><b>JSON Response:</b>
{
    &quot;verified&quot;: true,
    &quot;status&quot;: {
        &quot;code&quot;: 14,
        &quot;message&quot;: &quot;Your data is ready for submission.&quot;,
        &quot;description&quot;: &quot;Your financial institution has certified that the data is correct, but it has not been submitted yet.&quot;
    }
}
</pre></code></p>

<p>Verify that the uploaded data is correct and that the reported macro edits are not relevent to the submission.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/edits/macro</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
<tr>
<td>Body</td>
<td><code>{&quot;verified&quot;: true}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-sign-a-submission'>Sign a Submission</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}/sign&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \
  -d &#39;{&quot;verified&quot;: true}&#39;</p>

<p><b>JSON Response:</b>
{
    &quot;email&quot;: &quot;user@example.com&quot;,
    &quot;timestamp&quot;: 1572375004080,
    &quot;receipt&quot;: &quot;B90YWS6AFX2LGWOXJ1LD-{{year}}-10-1572375004080&quot;,
    &quot;status&quot;: {
        &quot;code&quot;: 15,
        &quot;message&quot;: &quot;Your submission has been accepted.&quot;,
        &quot;description&quot;: &quot;This completes your HMDA filing process for this year. If you need to upload a new HMDA file, the previously completed filing will not be overridden until all edits have been cleared and verified, and the new file has been submitted.&quot;
    }
}
</pre></code></p>

<p>Sign and complete a HMDA submission.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/sign</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
<tr>
<td>Body</td>
<td><code>{&quot;signed&quot;: true}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-get-sign-receipt'>Get Sign receipt</h3>
<blockquote>
<p>Example Request and Response</p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X GET \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}/sign&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39;</p>

<p><b>JSON Response:</b>
{
    &quot;email&quot;: &quot;user@example.com&quot;,
    &quot;timestamp&quot;: 1572375004080,
    &quot;receipt&quot;: &quot;B90YWS6AFX2LGWOXJ1LD-{{year}}-55-1572375004080&quot;,
    &quot;status&quot;: {
        &quot;code&quot;: 15,
        &quot;message&quot;: &quot;Your submission has been accepted.&quot;,
        &quot;description&quot;: &quot;This completes your HMDA filing process for this year. If you need to upload a new HMDA file, the previously completed filing will not be overridden until all edits have been cleared and verified, and the new file has been submitted.&quot;
    }
}
</pre></code></p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/sign</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-endpoints-get-submission-summary'>Get Submission Summary</h3>
<blockquote>
<p>Example Request and Response</p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X GET \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}/summary&#39;&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39;</p>

<p><b>JSON Response:</b>
{
    &quot;submission&quot;: {
        &quot;id&quot;: {
            &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
            &quot;period&quot;: {
                &quot;year&quot;: &quot;2020&quot;
                &quot;quarter&quot;: null
            },
            &quot;sequenceNumber&quot;: 20
        },
        &quot;status&quot;: {
            &quot;code&quot;: 15,
            &quot;message&quot;: &quot;Your submission has been accepted.&quot;,
            &quot;description&quot;: &quot;This completes your HMDA filing process for this year. If you need to upload a new HMDA file, the previously completed filing will not be overridden until all edits have been cleared and verified, and the new file has been submitted.&quot;
        },
        &quot;start&quot;: 1634228617589,
        &quot;end&quot;: 1634229085705,
        &quot;fileName&quot;: &quot;clean_file_5_rows_Bank0_2020.txt&quot;,
        &quot;receipt&quot;: &quot;B90YWS6AFX2LGWOXJ1LD-2020-26-1634229085705&quot;,
        &quot;signerUsername&quot;: &quot;test@testerbank.com&quot;
    },
    &quot;ts&quot;: {
        &quot;id&quot;: 1,
        &quot;institutionName&quot;: &quot;Bank0&quot;,
        &quot;year&quot;: &quot;2020&quot;
        &quot;quarter&quot;: 4,
        &quot;contact&quot;: {
            &quot;name&quot;: &quot;Mr. Smug Pockets&quot;,
            &quot;phone&quot;: &quot;555-555-5555&quot;,
            &quot;email&quot;: &quot;pockets@ficus.com&quot;,
            &quot;address&quot;: {
                &quot;street&quot;: &quot;1234 Hocus Potato Way&quot;,
                &quot;city&quot;: &quot;Tatertown&quot;,
                &quot;state&quot;: &quot;UT&quot;,
                &quot;zipCode&quot;: &quot;84096&quot;
            }
        },
        &quot;agency&quot;: 9,
        &quot;totalLines&quot;: 5,
        &quot;taxId&quot;: &quot;01-0123456&quot;,
        &quot;LEI&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;
    }
}
</pre></code></p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/sign</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h2 id='hmda-filing-api-quarterly-filing'>Quarterly Filing</h2>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X GET \
  &quot;https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/quarter/Q1/submissions/latest&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \</p>

<p><b>JSON Response:</b>
{
    &quot;id&quot;: {
        &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
        &quot;period&quot;: {
            &quot;year&quot;: &quot;2020&quot;
            &quot;quarter&quot;: &quot;Q1&quot;
        },
        &quot;sequenceNumber&quot;: 10
    },
    &quot;status&quot;: {
        &quot;code&quot;: 13,
        &quot;message&quot;: &quot;Your data has macro edits that need to be reviewed.&quot;,
        &quot;description&quot;: &quot;Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded.&quot;
    },
    &quot;start&quot;: 1585750668652,
    &quot;end&quot;: 0,
    &quot;fileName&quot;: &quot;<file_name>&quot;,
    &quot;receipt&quot;: &quot;&quot;,
    &quot;qualityVerified&quot;: false,
    &quot;macroVerified&quot;: false,
    &quot;qualityExists&quot;: true,
    &quot;macroExists&quot;: false
}
</pre></code></p>

<p>All the endpoints are the same for quarterly filing with the addtion of <code>quarter/Q1/</code>, <code>quarter/Q2/</code> or <code>quarter/Q3/</code> after the filing parameter and before the submission parameter.</p>
<h1 id='beta-hmda-filing-api'>Beta HMDA Filing API</h1>
<p>The following documentation addresses the process for testing on the Beta HMDA Filing Platform and with its associated Beta Platform APIs.</p>

<p>The <a href="https://ffiec.beta.cfpb.gov/filing">Beta HMDA Filing Platform</a> serves as a test environment for pre-release builds of the HMDA Platform backend services and user interface. No data submitted to the Beta HMDA Platform will be considered for regulatory compliance.</p>
<h2 id='beta-hmda-filing-api-authorization'>Authorization</h2>
<p>To test a HMDA Filing using the Beta Platform API, a <em>bearer</em> authorization token is required for all Beta Platform API calls. To acquire an authorization token use the <code>/auth</code> endpoint with your username and password as payload.</p>

<p>For local development, no authorization is needed. See <a href="https://github.com/cfpb/hmda-platform#one-line-local-development-environment-no-auth">One-line Local Development Environment (No Auth)</a> for more info.</p>

<p style="background: #ffe4c4; padding-top: 10px; padding-bottom: 10px;">
<b><u>Please note:</u></b> When testing the filing process via the <b>Beta HMDA Filing Platform</b>, this filing process is for test purposes only and is <b>NOT</b> acknowledged as an official Filing. If you wish to submit <b>official regulatory data</b> to the HMDA Platform, please use the official application: <a href='https://ffiec.cfpb.gov/filing'>https://ffiec.cfpb.gov/filing</a>.

</p>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight plaintext"><code>  curl -X POST \
  "https://ffiec.beta.cfpb.gov/auth/realms/hmda2/protocol/openid-connect/token" \
  -d 'client_id=hmda2-api&amp;grant_type=password&amp;username={{username}}%40{{bank_domain}}&amp;password={{password}}'
</code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.beta.cfpb.gov/auth/realms/hmda2/protocol/openid-connect/token</code></td>
</tr>
<tr>
<td>Payload</td>
<td>client_id=hmda2-api <br> grant_type=password <br> username={{username}}%40{{bank_domain}} <br> password={{password}}</td>
</tr>
</tbody></table>
<h2 id='beta-hmda-filing-api-postman-collection'>Postman Collection</h2>
<p>The <a href="https://github.com/cfpb/hmda-platform/tree/master/newman/postman">HMDA Postman Collection</a> has been prepared to simplify the process of using the Beta HMDA Filing Platform APIs.</p>

<p><a href="https://www.postman.com/product/api-client/">Postman</a> is a client side application that allows users to easily construct Beta HMDA Platform API calls and import external Beta Platform API collections.</p>
<h2 id='beta-hmda-filing-api-filing-process'>Filing Process</h2>
<p>Submission of HMDA data follows these steps which are mirrored in the Submission status codes:</p>

<p style="background: #ffe4c4; padding-top: 10px; padding-bottom: 10px;">
<b><u>Please note:</u></b> The filing process via the <b>HMDA Beta</b> platform is for testing purposes only. Signing of Submissions to the Beta Platform is <b>disabled</b> to reinforce the fact that these are not official submissions. 
</p>

<ol>
<li>Create a Filing: There is one Filing per institution, per filing season and it is created by the HMDA Operations team in preperation for each filing season.</li>
<li>Create a Submission: Submissions are the primary object in a HMDA Filing. They are created within a Filing and each Submission is able to accept a single file upload. Many Submissions can be created for a Filing and they carry an id which is sequentially incremented.</li>
<li>Upload a File: A file is then uploaded to the Submission which was created. Only one file can be uploaded to a Submission. To upload a new file you must create a new Submission.</li>
<li>Check the status of the Submission: If a Submission triggers Syntactical or Validity Edits, a corrected file must be uploaded.</li>
<li>Validate Quality Edits: Review any Quality Edits that have been triggered and confirm that the submitted data are correct.</li>
<li>Validate Macro Edits: Review any Macro Edits that have been triggered and confirm that the submitted data are correct.</li>
</ol>
<h3 id='beta-hmda-filing-api-filing-process-object-hierarchy'>Object Hierarchy</h3>
<p><img src="../images/filingObjectHierarchy.png"></p>
<h3 id='beta-hmda-filing-api-filing-process-submission-status'>Submission Status</h3>
<p>The Submission status is the best way to check the state of a Filing. It will be useful to query the Submission status often throughout the process of file upload and Edit validation.</p>
<h4 id='beta-hmda-filing-api-filing-process-submission-status-submission-status-codes'>Submission Status Codes</h4>
<blockquote>
<p><strong>Example</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "id": {
    "lei": "12345abc",
    "period": "2020",
    "sequenceNumber": 3
  },
  "status": {
    "code": 1,
    "message": "No data has been uploaded yet.",
    "description": "The filing period is open and available to accept HMDA data. Make sure your data is in a pipe-delimited text file."
  },
  "start": 0,
  "end": 0,
  "fileName": "test.txt",
  "receipt": ""
}
</code></pre>
<p>In order to track the status of a Filing for a financial institution, the following states are captured by the backend:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>No data has been uploaded yet.</td>
<td>The filing period is open and available to accept HMDA data. Make sure your data is in a pipe-delimited text file.</td>
</tr>
<tr>
<td>2</td>
<td>Your file is uploading.</td>
<td>Your file is currently being uploaded to the HMDA Platform.</td>
</tr>
<tr>
<td>3</td>
<td>Your file has been uploaded.</td>
<td>Your data is ready to be analyzed.</td>
</tr>
<tr>
<td>4</td>
<td>Checking the formatting of your data.</td>
<td>Your file is being analyzed to ensure that it meets formatting requirements specified in the HMDA Filing Instructions Guide.</td>
</tr>
<tr>
<td>5</td>
<td>Your data has formatting errors.</td>
<td>Review these errors and update your file. Then, upload the corrected file.</td>
</tr>
<tr>
<td>6</td>
<td>Your data is formatted correctly.</td>
<td>Your file meets the formatting requirements specified in the HMDA Filing Instructions Guide. Your data will now be analyzed for any edits.</td>
</tr>
<tr>
<td>7</td>
<td>Your data is being analyzed.</td>
<td>Your data has been uploaded and is being checked for any edits.</td>
</tr>
<tr>
<td>8</td>
<td>Your data has been analyzed for Syntactical and Validity Errors.</td>
<td>Your file has been analyzed and does not contain any Syntactical or Validity errors.</td>
</tr>
<tr>
<td>9</td>
<td>Your data has syntactical and/or validity edits that need to be reviewed.</td>
<td>Your file has been uploaded, but the filing process may not proceed until the file is corrected and re-uploaded.</td>
</tr>
<tr>
<td>10</td>
<td>Your data has been analyzed for Quality Errors.</td>
<td>Your file has been analyzed, and does not contain quality errors.</td>
</tr>
<tr>
<td>11</td>
<td>Your data has quality edits that need to be reviewed.</td>
<td>Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded.</td>
</tr>
<tr>
<td>12</td>
<td>Your data has been analyzed for macro errors.</td>
<td>Your file has been analyzed, and does not contain macro errors.</td>
</tr>
<tr>
<td>13</td>
<td>Your data has macro edits that need to be reviewed.</td>
<td>Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded.</td>
</tr>
<tr>
<td>14</td>
<td>Your data is ready for submission.</td>
<td>Your financial institution has certified that the data is correct, but it has not been submitted yet.</td>
</tr>
<tr>
<td>-1</td>
<td>An error occurred while submitting the data.</td>
<td>Please re-upload your file.</td>
</tr>
</tbody></table>
<h2 id='beta-hmda-filing-api-endpoints'>Endpoints</h2><h3 id='beta-hmda-filing-api-endpoints-start-a-filing'>Start a Filing</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.beta.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}&quot; \
  -H &#39;Authorization: Bearer  {{access_token}}&#39; \</p>

<p><b>JSON Response:</b>
{
    &quot;filing&quot;: {
        &quot;period&quot;: &quot;2020&quot;,
        &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
        &quot;status&quot;: {
            &quot;code&quot;: 2,
            &quot;message&quot;: &quot;in-progress&quot;
        },
        &quot;filingRequired&quot;: true,
        &quot;start&quot;: 1572378187454,
        &quot;end&quot;: 0
    },
    &quot;submissions&quot;: []
}
</pre></code></p>

<p>For evey filing period, you must begin by starting a Filing. This only needs to be done once per filing season. On the official HMDA Filing Platform this Filing will have already been created by the HMDA Operations team. 
The <code>POST</code> will result in a <code>200</code> only for the first time it&#39;s called. If the Filing for the given filing period already exists, the <code>POST</code> will return a <code>400</code>.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.beta.cfpb.gov/v2/filing/{{year}}</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='beta-hmda-filing-api-endpoints-get-a-filing'>Get a Filing</h3>
<p>This endpoint can be used to confirm that a Filing exists for the relevant period.</p>

<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X GET \
  &quot;https://ffiec.beta.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}&quot; \
  -H &#39;Authorization: Bearer  {{access_token}}&#39; \</p>

<p><b>JSON Response:</b>
{
    &quot;filing&quot;: {
        &quot;period&quot;: &quot;2020&quot;,
        &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
        &quot;status&quot;: {
            &quot;code&quot;: 2,
            &quot;message&quot;: &quot;in-progress&quot;
        },
        &quot;filingRequired&quot;: true,
        &quot;start&quot;: 1572378187454,
        &quot;end&quot;: 0
    },
    &quot;submissions&quot;: []
}
</pre></code></p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.beta.cfpb.gov/v2/filing/{{year}}</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='beta-hmda-filing-api-endpoints-create-a-submission'>Create a Submission</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.beta.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \</p>

<p>A Submission must be created for each file upload. More than one Submission can be created for a filing period. The most recent Submission will be considered the latest Submission. Each <code>POST</code> on the Submission endpoint will return a new Submission <code>sequenceNumber</code>.</p>

<p><b>JSON Response:</b>
{
    &quot;id&quot;: {
        &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
        &quot;period&quot;: &quot;2020&quot;,
        &quot;sequenceNumber&quot;: 10
    },
    &quot;status&quot;: {
        &quot;code&quot;: 1,
        &quot;message&quot;: &quot;No data has been uploaded yet.&quot;,
        &quot;description&quot;: &quot;The filing period is open and available to accept HMDA data. Make sure your data is in a pipe-delimited text file.&quot;
    },
    &quot;start&quot;: 1572358820303,
    &quot;end&quot;: 0,
    &quot;fileName&quot;: &quot;&quot;,
    &quot;receipt&quot;: &quot;&quot;
}
</pre></code></p>

<p>A new Submission must be created for each file upload. More than one Submission can be created for a filing period. The most recent Submission will be considered the Latest Submission. Each <code>POST</code> on the Submission endpoint will return a new Submission <code>sequenceNumber</code>.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.beta.cfpb.gov/v2/filing/{{year}}/submissions</code></td>
</tr>
<tr>
<td>Headers</td>
<td>{{access_token}}</td>
</tr>
</tbody></table>
<h3 id='beta-hmda-filing-api-endpoints-get-the-latest-submission'>Get the Latest Submission</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X GET \
  &quot;https://ffiec.beta.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/latest&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \</p>

<p><b>JSON Response:</b>
{
    &quot;id&quot;: {
        &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
        &quot;period&quot;: &quot;2020&quot;,
        &quot;sequenceNumber&quot;: 10
    },
    &quot;status&quot;: {
        &quot;code&quot;: 13,
        &quot;message&quot;: &quot;Your data has macro edits that need to be reviewed.&quot;,
        &quot;description&quot;: &quot;Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded.&quot;
    },
    &quot;start&quot;: 1572372016130,
    &quot;end&quot;: 0,
    &quot;fileName&quot;: &quot;clean_file_10.txt&quot;,
    &quot;receipt&quot;: &quot;&quot;,
    &quot;qualityVerified&quot;: false,
    &quot;macroVerified&quot;: false,
    &quot;qualityExists&quot;: true,
    &quot;macroExists&quot;: true
}
</pre></code></p>

<p>Returns details about the last created Submission including its sequence number and status.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.beta.cfpb.gov/v2/filing/{{year}}/submissions/latest</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='beta-hmda-filing-api-endpoints-upload-a-file'>Upload a File</h3>
<blockquote>
<p>Example Request and Response</p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.beta.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \
  -H &#39;content-type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW&#39; \
  -F file=<file.csv></p>

<p><b>JSON Response:</b>
{
    &quot;id&quot;: {
        &quot;lei&quot;: &quot;B90YWS6AFX2LGWOXJ1LD&quot;,
        &quot;period&quot;: &quot;2020&quot;,
        &quot;sequenceNumber&quot;: 10
    },
    &quot;status&quot;:{
        &quot;code&quot;: 3,
        &quot;message&quot;: &quot;Your file has been uploaded.&quot;,
        &quot;description&quot;: &quot;Your data is ready to be analyzed.&quot;
    },
    &quot;start&quot;: 1572372016130,
    &quot;end&quot;: 0,
    &quot;fileName&quot;: &quot;&quot;,
    &quot;receipt&quot;: &quot;&quot;
}
</pre></code></p>

<p>Upload a file to a Submission.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.beta.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code>, <code>&#39;Content-Type&#39;: multipart/form-data</code></td>
</tr>
<tr>
<td>Payload</td>
<td>LAR file</td>
</tr>
</tbody></table>
<h3 id='beta-hmda-filing-api-endpoints-view-parsing-errors'>View Parsing Errors</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.beta.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}/parseErrors&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39;</p>

<p><b>JSON Response</b>
{
    &quot;transmittalSheetErrors&quot;: [],
    &quot;larErrors&quot;: [],
    &quot;count&quot;: 0,
    &quot;total&quot;: 0,
    &quot;status&quot;: {
        &quot;code&quot;: 5,
        &quot;message&quot;: &quot;Your data has formatting errors.&quot;,
        &quot;description&quot;: &quot;Review these errors and update your file. Then, upload the corrected file.&quot;
    },
    &quot;_links&quot;: {
        &quot;href&quot;: &quot;/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/24/parseErrors{rel}&quot;,
        &quot;self&quot;: &quot;?page=1&quot;,
        &quot;first&quot;: &quot;?page=1&quot;,
        &quot;prev&quot;: &quot;?page=1&quot;,
        &quot;next&quot;: &quot;?page=0&quot;,
        &quot;last&quot;: &quot;?page=0&quot;
    }
}
</pre></code></p>

<p>Returns a list of all parsing errors triggered by the file uploaded to a Submission.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.beta.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/parseErrors</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='beta-hmda-filing-api-endpoints-view-all-edits'>View All Edits</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X GET \
  &quot;https://ffiec.beta.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}/edits&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39;</p>

<p><b>JSON Response:</b>
{
    &quot;syntactical&quot;: {
        &quot;edits&quot;: []
    },
    &quot;validity&quot;: {
        &quot;edits&quot;: []
    },
    &quot;quality&quot;: {
        &quot;edits&quot;: [
            {
                &quot;edit&quot;: &quot;Q630&quot;,
                &quot;description&quot;: &quot;If Total Units is greater than or equal to 5, then HOEPA Status generally should equal 3.&quot;
            },
            {
                &quot;edit&quot;: &quot;Q631&quot;,
                &quot;description&quot;: &quot;If Loan Type equals 2, 3 or 4, then Total Units generally should be less than or equal to 4.&quot;
            }
        ],
        &quot;verified&quot;: false
    },
    &quot;macro&quot;: {
        &quot;edits&quot;: [
            {
                &quot;edit&quot;: &quot;Q637&quot;,
                &quot;description&quot;: &quot;No more than 15% of the loans in the file should report Action Taken equals 5. Your data indicates a percentage outside of this range.&quot;
            }
        ],
        &quot;verified&quot;: false
    },
    &quot;status&quot;: {
        &quot;code&quot;: 13,
        &quot;message&quot;: &quot;Your data has macro edits that need to be reviewed.&quot;,
        &quot;description&quot;: &quot;Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded.&quot;,
        &quot;qualityVerified&quot;: false,
        &quot;macroVerified&quot;: false
    }
}
</pre></code></p>

<p>Returns a summary of all Edits triggered by an upload in a Submission.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.beta.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/edits</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='beta-hmda-filing-api-endpoints-view-edit-details'>View Edit Details</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X GET \
  &quot;https://ffiec.beta.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}/edits/Q631&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39;</p>

<p><b>JSON Response:</b>
{
    &quot;edit&quot;: &quot;Q631&quot;,
    &quot;rows&quot;: [
        {
           &quot;id&quot;: &quot;B90YWS6AFX2LGWOXJ1LDHHXWCDPM0ZEHW08FFTXGRXT62&quot;,
           &quot;fields&quot;: [
               {
                   &quot;name&quot;: &quot;Loan Type&quot;,
                   &quot;value&quot;: &quot;3&quot;
               },
               {
                   &quot;name&quot;: &quot;Total Units&quot;,
                   &quot;value&quot;: &quot;16&quot;
               }
           ]
       }
   ],
   &quot;count&quot;: 20,
   &quot;total&quot;: 54,
   &quot;_links&quot;: {
       &quot;href&quot;: &quot;/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}/edits/Q631{rel}&quot;,
       &quot;self&quot;: &quot;?page=1&quot;,
       &quot;first&quot;: &quot;?page=1&quot;,
       &quot;prev&quot;: &quot;?page=1&quot;,
       &quot;next&quot;: &quot;?page=2&quot;,
       &quot;last&quot;: &quot;?page=3&quot;
   }
}
</pre></code></p>

<p>Returns detailed information about a specific Edit including a list of lines that triggered the Edit and the relevant fields from those lines.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.beta.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/edits/{{edit_code}}</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
</tbody></table>
<h3 id='beta-hmda-filing-api-endpoints-verify-quality-edits'>Verify Quality Edits</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.beta.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}/edits/quality&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \
  -d &#39;{&quot;verified&quot;: true}&#39;</p>

<p><b>JSON Response:</b>
{
    &quot;verified&quot;: true,
    &quot;status&quot;: {
        &quot;code&quot;: 13,
        &quot;message&quot;: &quot;Your data has macro edits that need to be reviewed.&quot;,
        &quot;description&quot;: &quot;Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded.&quot;
    }
}
</pre></code></p>

<p>Verify that the uploaded data is correct and that the reported Quality Edits are not relevent to the Submission.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.beta.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/edits/quality</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
<tr>
<td>Body</td>
<td><code>{&quot;verified&quot;: true}</code></td>
</tr>
</tbody></table>
<h3 id='beta-hmda-filing-api-endpoints-verify-macro-edits'>Verify Macro Edits</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
curl -X POST \
  &quot;https://ffiec.beta.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/{{year}}/submissions/{{sequenceNumber}}/edits/macro&quot; \
  -H &#39;Authorization: Bearer {{access_token}}&#39; \
  -d &#39;{&quot;verified&quot;: true}&#39;</p>

<p><b>JSON Response:</b>
{
    &quot;verified&quot;: true,
    &quot;status&quot;: {
        &quot;code&quot;: 14,
        &quot;message&quot;: &quot;Your data is ready for submission.&quot;,
        &quot;description&quot;: &quot;Your financial institution has certified that the data is correct, but it has not been submitted yet.&quot;
    }
}
</pre></code></p>

<p>Verify that the uploaded data is correct and that the reported Macro Edits are not relevent to the Submission.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>Endpoint</td>
<td><code>https://ffiec.beta.cfpb.gov/v2/filing/{{year}}/submissions/{{sequenceNumber}}/edits/macro</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>Authorization: Bearer {{access_token}}</code></td>
</tr>
<tr>
<td>Body</td>
<td><code>{&quot;verified&quot;: true}</code></td>
</tr>
</tbody></table>

<p>All the endpoints are the same for quarterly filing with the addtion of <code>quarter/Q1/</code>, <code>quarter/Q2/</code> or <code>quarter/Q3/</code> after the filing parameter and before the Submission parameter.</p>
<h1 id='hmda-public-verification-api'>HMDA Public Verification API</h1>
<p>The following are HMDA Public API endpoints that do not require authentication. You may use these public endpoints to help prepare your data for sumbission.</p>
<h2 id='hmda-public-verification-api-single-ts-verification'>Single TS Verification</h2>
<p>These endpoints are used to parse and run edits on a TS. Use <code>parse</code> to check for parsing errors and <code>validate/{{year}}</code> to check for syntactical, validity, and quality edits.</p>
<h3 id='hmda-public-verification-api-single-ts-verification-parse-ts'>Parse TS</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
  <b>Request:</b></p>

<p>curl -X POST \
  &quot;https://ffiec.cfpb.gov/v2/public/ts/parse&quot; \
  -H &#39;Content-Type: application/json&#39; \
  -d &#39;{
  &quot;ts&quot; : &quot;1|Bank 0|2018|4|Jane|111-111-1111|janesmith@bank.com|123 Main St|Washington|DC|20001|9|100|99-999999|10Bx939c5543TqA1144M&quot;
}&#39;</p>

<p><b>JSON Response:</b>
  {
      &quot;id&quot;: 1,
      &quot;institutionName&quot;: &quot;Bank 0&quot;,
      &quot;year&quot;: 2018,
      &quot;quarter&quot;: 4,
      &quot;contact&quot;: {
          &quot;name&quot;: &quot;Jane&quot;,
          &quot;phone&quot;: &quot;111-111-1111&quot;,
          &quot;email&quot;: &quot;janesmith@bank.com&quot;,
          &quot;address&quot;: {
              &quot;street&quot;: &quot;123 Main St&quot;,
              &quot;city&quot;: &quot;Washington&quot;,
              &quot;state&quot;: &quot;DC&quot;,
              &quot;zipCode&quot;: &quot;20001&quot;
          }
      },
      &quot;agency&quot;: 9,
      &quot;totalLines&quot;: 100,
      &quot;taxId&quot;: &quot;99-999999&quot;,
      &quot;LEI&quot;: &quot;10Bx939c5543TqA1144M&quot;
  }
  </pre></code></p>

<p>This endpoint runs parsing on a Transmittal Sheet (TS). The endpoint returns a list of parsing errors in JSON format. If the TS is valid it the parsed TS object in JSON format.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/ts/parse</code></td>
</tr>
<tr>
<td>Payload</td>
<td>Pipe delimited TS</td>
</tr>
<tr>
<td>Return</td>
<td>JSON</td>
</tr>
</tbody></table>
<h3 id='hmda-public-verification-api-single-ts-verification-validate-ts'>Validate TS</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
  <b>Request:</b></p>

<p>curl -X POST \
  &quot;https://ffiec.cfpb.gov/v2/public/ts/validate/2018&quot; \
  -H &#39;Content-Type: application/json&#39; \
  -d &#39;{
  &quot;ts&quot; : &quot;1|Bank 0|2018|4|Jane|111-111-1111|janesmith@bank.com|123 Main St|Washington|DC|20001|9|100|99-999999|10Bx939c5543TqA1144M&quot;
}&#39;</p>

<p><b>JSON Response:</b>
    {
        &quot;syntactical&quot;: {
            &quot;errors&quot;: []
        },
        &quot;validity&quot;: {
            &quot;errors&quot;: []
        },
        &quot;quality&quot;: {
            &quot;errors&quot;: []
        }
    }
    </pre></code></p>

<p>This endpoint runs parsing and a specific year&#39;s edit checks on a Transmittal Sheet (TS). It returns edit details if the TS is able to be parsed or parsing errors if not.</p>

<p><em>Note:</em> Some edit checks require institution data. These checks are not run in any public APIs.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/ts/validate/{{year}}</code></td>
</tr>
<tr>
<td>Payload</td>
<td>Pipe delimited TS</td>
</tr>
<tr>
<td>Return</td>
<td>JSON</td>
</tr>
</tbody></table>
<h2 id='hmda-public-verification-api-single-lar-verification'>Single LAR Verification</h2>
<p>These endpoints are used to parse and and run edits on a LAR. Use <code>parse</code> to check for parsing errors and <code>validate/{{year}}</code> to check for syntactical, validity, and quality edits.</p>
<h3 id='hmda-public-verification-api-single-lar-verification-parse-a-lar'>Parse a LAR</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
<b>Request:</b>
  curl -X POST \
  &quot;https://ffiec.cfpb.gov/v2/public/lar/parse&quot; \
  -H &#39;Content-Type: application/json&#39; \
  -d &#39;{ &quot;lar&quot;: &quot;2|10Bx939c5543TqA1144M|10Bx939c5543TqA1144M999143X38|20180721|1|1|1|1|1|110500|1|20180721|123 Main St|Beverly Hills|CA|90210|06037|06037264000|1|1|1|1|1||1|1|1|1|1||3|3|5|7|7|7|7||||5|7|7|7|7||||3|3|1|1|3|3|30|30|36|1|0.428|1|1|750|750|1|9|1|9|10|10|10|10||2399.04|NA|NA|NA|NA|4.125|NA|42.95|80.05|360|NA|1|2|1|1|350500|1|1|5|NA|1|1|12345|1|1|1|1|1||1|1|1|1|1||1|1|1&quot;
}&#39;</p>

<p><b>JSON Response:</b>
  {
    &quot;larIdentifier&quot;: {
        &quot;id&quot;: 2,
        &quot;LEI&quot;: &quot;10BX939C5543TQA1144M&quot;,
        &quot;NMLSRIdentifier&quot;: &quot;12345&quot;
    },
    &quot;loan&quot;: {
        &quot;ULI&quot;: &quot;10Bx939c5543TqA1144M999143X38&quot;,
        &quot;applicationDate&quot;: &quot;20180721&quot;,
        &quot;loanType&quot;: 1,
        &quot;loanPurpose&quot;: 1,
        &quot;constructionMethod&quot;: 1,
        &quot;occupancy&quot;: 1,
        &quot;amount&quot;: 110500.0,
        &quot;loanTerm&quot;: &quot;360&quot;,
        &quot;rateSpread&quot;: &quot;0.428&quot;,
        &quot;interestRate&quot;: &quot;4.125&quot;,
        &quot;prepaymentPenaltyTerm&quot;: &quot;NA&quot;,
        &quot;debtToIncomeRatio&quot;: &quot;42.95&quot;,
        &quot;combinedLoanToValueRatio&quot;: &quot;80.05&quot;,
        &quot;introductoryRatePeriod&quot;: &quot;NA&quot;
    },
    &quot;larAction&quot;: {
        &quot;preapproval&quot;: 1,
        &quot;actionTakenType&quot;: 1,
        &quot;actionTakenDate&quot;: 20180721
    },
    &quot;geography&quot;: {
        &quot;street&quot;: &quot;123 Main St&quot;,
        &quot;city&quot;: &quot;Beverly Hills&quot;,
        &quot;state&quot;: &quot;CA&quot;,
        &quot;zipCode&quot;: &quot;90210&quot;,
        &quot;county&quot;: &quot;06037&quot;,
        &quot;tract&quot;: &quot;06037264000&quot;
    },
    &quot;applicant&quot;: {
        &quot;ethnicity&quot;: {
            &quot;ethnicity1&quot;: 1,
            &quot;ethnicity2&quot;: 1,
            &quot;ethnicity3&quot;: 1,
            &quot;ethnicity4&quot;: 1,
            &quot;ethnicity5&quot;: 1,
            &quot;otherHispanicOrLatino&quot;: &quot;&quot;,
            &quot;ethnicityObserved&quot;: 3
        },
        &quot;race&quot;: {
            &quot;race1&quot;: 5,
            &quot;race2&quot;: 7,
            &quot;race3&quot;: 7,
            &quot;race4&quot;: 7,
            &quot;race5&quot;: 7,
            &quot;otherNativeRace&quot;: &quot;&quot;,
            &quot;otherAsianRace&quot;: &quot;&quot;,
            &quot;otherPacificIslanderRace&quot;: &quot;&quot;,
            &quot;raceObserved&quot;: 3
        },
        &quot;sex&quot;: {
            &quot;sex&quot;: 1,
            &quot;sexObserved&quot;: 3
        },
        &quot;age&quot;: 30,
        &quot;creditScore&quot;: 750,
        &quot;creditScoreType&quot;: 1,
        &quot;otherCreditScoreModel&quot;: &quot;9&quot;
    },
    &quot;coApplicant&quot;: {
        &quot;ethnicity&quot;: {
            &quot;ethnicity1&quot;: 1,
            &quot;ethnicity2&quot;: 1,
            &quot;ethnicity3&quot;: 1,
            &quot;ethnicity4&quot;: 1,
            &quot;ethnicity5&quot;: 1,
            &quot;otherHispanicOrLatino&quot;: &quot;&quot;,
            &quot;ethnicityObserved&quot;: 3
        },
        &quot;race&quot;: {
            &quot;race1&quot;: 5,
            &quot;race2&quot;: 7,
            &quot;race3&quot;: 7,
            &quot;race4&quot;: 7,
            &quot;race5&quot;: 7,
            &quot;otherNativeRace&quot;: &quot;&quot;,
            &quot;otherAsianRace&quot;: &quot;&quot;,
            &quot;otherPacificIslanderRace&quot;: &quot;&quot;,
            &quot;raceObserved&quot;: 3
        },
        &quot;sex&quot;: {
            &quot;sex&quot;: 1,
            &quot;sexObserved&quot;: 3
        },
        &quot;age&quot;: 30,
        &quot;creditScore&quot;: 750,
        &quot;creditScoreType&quot;: 1,
        &quot;otherCreditScoreModel&quot;: &quot;9&quot;
    },
    &quot;income&quot;: &quot;36&quot;,
    &quot;purchaserType&quot;: 1,
    &quot;hoepaStatus&quot;: 1,
    &quot;lienStatus&quot;: 1,
    &quot;denial&quot;: {
        &quot;denialReason1&quot;: 10,
        &quot;denialReason2&quot;: 10,
        &quot;denialReason3&quot;: 10,
        &quot;denialReason4&quot;: 10,
        &quot;otherDenialReason&quot;: &quot;&quot;
    },
    &quot;loanDisclosure&quot;: {
        &quot;totalLoanCosts&quot;: &quot;2399.04&quot;,
        &quot;totalPointsAndFees&quot;: &quot;NA&quot;,
        &quot;originationCharges&quot;: &quot;NA&quot;,
        &quot;discountPoints&quot;: &quot;NA&quot;,
        &quot;lenderCredits&quot;: &quot;NA&quot;
    },
    &quot;nonAmortizingFeatures&quot;: {
        &quot;balloonPayment&quot;: 1,
        &quot;interestOnlyPayment&quot;: 2,
        &quot;negativeAmortization&quot;: 1,
        &quot;otherNonAmortizingFeatures&quot;: 1
    },
    &quot;property&quot;: {
        &quot;propertyValue&quot;: &quot;350500.0&quot;,
        &quot;manufacturedHomeSecuredProperty&quot;: 1,
        &quot;manufacturedHomeLandPropertyInterest&quot;: 1,
        &quot;totalUnits&quot;: 5,
        &quot;multiFamilyAffordableUnits&quot;: &quot;NA&quot;
    },
    &quot;applicationSubmission&quot;: 1,
    &quot;payableToInstitution&quot;: 1,
    &quot;AUS&quot;: {
        &quot;aus1&quot;: 1,
        &quot;aus2&quot;: 1,
        &quot;aus3&quot;: 1,
        &quot;aus4&quot;: 1,
        &quot;aus5&quot;: 1,
        &quot;otherAUS&quot;: &quot;&quot;
    },
    &quot;ausResult&quot;: {
        &quot;ausResult1&quot;: 1,
        &quot;ausResult2&quot;: 1,
        &quot;ausResult3&quot;: 1,
        &quot;ausResult4&quot;: 1,
        &quot;ausResult5&quot;: 1,
        &quot;otherAusResult&quot;: &quot;&quot;
    },
    &quot;reverseMortgage&quot;: 1,
    &quot;lineOfCredit&quot;: 1,
    &quot;businessOrCommercialPurpose&quot;: 1
}
</pre></code></p>

<p>This endpoint runs parsing on a single Loan Application Register (LAR). The endpoint returns a list of parsing errors in JSON format. If the LAR is valid it returns the parsed LAR object in JSON format.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/lar/parse</code></td>
</tr>
<tr>
<td>Payload</td>
<td>Pipe delimited LAR</td>
</tr>
<tr>
<td>Return</td>
<td>JSON</td>
</tr>
</tbody></table>
<h3 id='hmda-public-verification-api-single-lar-verification-validate-a-lar'>Validate a LAR</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
  <b>Request:</b>
  curl -X POST \
  &quot;https://ffiec.cfpb.gov/v2/public/lar/validate/2018&quot; \
  -H &#39;Content-Type: application/json&#39; \
  -d &#39;{&quot;lar&quot;: &quot;&quot;2|B90YWS6AFX2LGWOXJ1LD|B90YWS6AFX2LGWOXJ1LD0KQ78F1Q02LVT4VCYK1G3D253|20180613|3|2|2|2|3|218910|5|20181031|1234 Hocus Potato Way|Tatertown|NM|14755|35003|35003976400|1|13||11||KE0NW|1|||||NA2IJJ7VBBQ15DTFRNK1PVWOPOXL3NH1PHUMN7S2J4|2|2|7|||||E120FYAU7BTSC3P51IL87C97W3N9VT791BMJI57RLJQSHOFDTUD7PQSPGHQ69D7I2P8JBDCBUIGRLX2BUS7SJR|DOOOI8UXY9PZDSRVFKP91CUQG95E88Y22KDR1AI3|1K1JINAYSIHCWBGJW3KOHU5D5TSK1Z61SUT5M9WQVWOHX|27|24|41|43|2|MS1LKLX7XZRKL23TV01I49RADZGUN0QY5AG9H4BJCVFTA4ZQ1EJUS1376QJXD87ZZDN5EFZIUWB8SK5EU34RVGOVTE|Y083OZN1VFT6B2XGL397ABL0Z4EV4CD45I7ZJ7FRSXXL4BRMKVPR5UCVV0K6IDLP7WLCBZAQ5KXT69PNE9PWQKCPKJB|UV0FTHG00G8WM65I7591IJYP9TEMXMDCVGZYRJTBUBBKEZI65HGL9ML|3|2|2|2|1|1|75|4|NA|0|NA|3|2|8888|8888|9||9||10|||||NA|NA|NA|NA|NA|NA|32|NA|NA|256|29|1111|1111|1111|1111|NA|3|2|16|Exempt|2|2|NA|3|1|5|1||DOREBESQSW1QT58SD2OZTHQUGXLSKCAJYZ63NJE2MUIAFQL4KW6PU26YSU786GT0IMCWWKCN25Y7KU0VLU0PPKWR8G6DKWI9BANPIE9I2ZZ5XDUX0TBAY4XFRFQZF087WS9ESTAKIV5V9HSZ2VXW7J5JMGPP4CGYA51BK68T57NN4KTKJVXIQMFXBTN5E3LGKKX3LITQ4C7OPFJ|7|6|5|5|||1111|2|1111&quot;&quot;
}&#39;</p>

<p><b>JSON Response:</b>
  {
    &quot;syntactical&quot;: {
        &quot;errors&quot;: []
    },
    &quot;validity&quot;: {
        &quot;errors&quot;: []
    },
    &quot;quality&quot;: {
        &quot;errors&quot;: [
            {
                &quot;edit&quot;: &quot;Q618&quot;,
                &quot;description&quot;: &quot;\&quot;If Construction Method equals 2, then Manufactured Home Secured Property Type generally should not be 3.\&quot;&quot;
            },
            {
                &quot;edit&quot;: &quot;Q631&quot;,
                &quot;description&quot;: &quot;\&quot;If Loan Type equals 2, 3 or 4, then Total Units generally should be less than or equal to 4.\&quot;&quot;
            },
            {
                &quot;edit&quot;: &quot;Q632&quot;,
                &quot;description&quot;: &quot;\&quot;If Automated Underwriting System: 1; Automated Underwriting System: 2; Automated Underwriting System: 3; Automated Underwriting System: 4; or Automated Underwriting System: 5 equals 3, then the corresponding Automated Underwriting System Result: 1; Automated Underwriting System Result: 2; Automated Underwriting System Result: 3; Automated Underwriting System Result: 4; or Automated Underwriting System Result: 5 should equal 8 or 13.\&quot;&quot;
            }
        ]
    }
}
</pre></code></p>

<p>This endpoint runs parsing and a specific year&#39;s edit checks on a Loan Application Register (LAR). It returns edit details if the LAR is able to be parsed or parsing errors if not.</p>

<p><em>Note:</em> Some edit checks require institution data. These checks are not run in any public APIs. Macro edits are also not run this endpoint checks only a single LAR.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/lar/validate/{{year}}</code></td>
</tr>
<tr>
<td>Payload</td>
<td>Pipe delimited LAR</td>
</tr>
<tr>
<td>Return</td>
<td>JSON</td>
</tr>
</tbody></table>
<h2 id='hmda-public-verification-api-full-hmda-file-verification'>Full HMDA File Verification</h2>
<p>The following endpoints can be used to parse and run edit checks on a full HMDA file.</p>
<h3 id='hmda-public-verification-api-full-hmda-file-verification-parse-a-hmda-file'>Parse a HMDA File</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
  <b>Request:</b>
  curl -X OPTIONS \
  &quot;https://ffiec.cfpb.gov/v2/public/hmda/parse&quot; \
  -F file=@<PATH>/<FILENAME>.txt</p>

<p><b>JSON Response:</b>
  {
    &quot;validated&quot;: []
  }
  </pre></code></p>

<p>This endpoint runs parsing on a HMDA file. The endpoint returns a list of parsing errors in JSON format. If the file is valid it returns and empty list.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>OPTIONS</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/hmda/parse</code></td>
</tr>
<tr>
<td>Payload</td>
<td>HMDA file</td>
</tr>
<tr>
<td>Return</td>
<td>JSON</td>
</tr>
</tbody></table>
<h3 id='hmda-public-verification-api-full-hmda-file-verification-validate-a-hmda-file'>Validate a HMDA File</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
  <b>Request:</b>
  curl -X OPTIONS \
  &quot;https://ffiec.cfpb.gov/v2/public/hmda/validate&quot; \
  -F file=@<PATH>/<FILENAME>.txt</p>

<p><b>JSON Response:</b> 
  {
    &quot;parserErrors&quot;: [
        {
            &quot;rowNumber&quot;: 1,
            &quot;estimatedULI&quot;: &quot;Transmittal Sheet&quot;,
            &quot;errorMessages&quot;: [
                {
                    &quot;fieldName&quot;: &quot;Calendar Quarter&quot;,
                    &quot;inputValue&quot;: &quot;a&quot;,
                    &quot;validValues&quot;: &quot;Integer&quot;
                }
            ]
        }
    ],
    &quot;validationErrors&quot;: [
        [
            {
                &quot;uli&quot;: &quot;B90YWS6AFX2LGWOXJ1LDNIXOQ6OO7BRA5SLR6FSJJ5R89&quot;,
                &quot;editName&quot;: &quot;V619-2&quot;,
                &quot;editDescription&quot;: &quot;\&quot;The Action Taken Date must be in the reporting year.\&quot;&quot;,
                &quot;fields&quot;: {
                    &quot;Action Taken Date&quot;: &quot;20180908&quot;,
                    &quot;Application Date&quot;: &quot;NA&quot;
                }
            }
        ]
    ]
  }
  </pre></code></p>

<p>This endpoint runs parsing and a specific year&#39;s edit checks on a HMDA file. This endpoint runs checks row by row and so can return both parsing and edit check information if some rows pass parsing and others do not.</p>

<p><em>Note:</em> Some edit checks require institution data. These checks are not run in any public APIs. Macro edits are also not run as the check runs line by line.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>OPTIONS</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/hmda/validate/{{year}}</code></td>
</tr>
<tr>
<td>Payload</td>
<td>HMDA file</td>
</tr>
<tr>
<td>Return</td>
<td>JSON</td>
</tr>
</tbody></table>
<h1 id='data-browser-api'>Data Browser API</h1>
<p>The data browser api enables developers to interact with HMDA data. The API will return either a JSON report of the data or CSV of the raw data.</p>

<p>This API is what powers the <a href="https://ffiec.cfpb.gov/data-browser/">HMDA Data Browser application</a></p>

<p><em>Note:</em> depending on the query, queries may take a while to return and data may be too large for conventional spread sheet applications.</p>
<h2 id='data-browser-api-hmda-data-endpoints'>HMDA Data Endpoints</h2><h3 id='data-browser-api-hmda-data-endpoints-hmda-data-endpoints'>HMDA Data Endpoints</h3>
<ul>
<li><strong>Nationwide</strong> <strong>Aggregations</strong></li>
</ul>

<p><code>GET https://ffiec.cfpb.gov/v2/data-browser-api/data-browser-api/view/nationwide/aggregations</code> </p>

<p>This endpoint is used to generated JSON reports on the full dataset. The year parameter is required when calling this endpoint.</p>

<ul>
<li><strong>Aggregations</strong></li>
</ul>

<p><code>GET https://ffiec.cfpb.gov/v2/data-browser-api/data-browser-api/view/aggregations</code> </p>

<p>This endpoint is used to generated JSON reports on an LEI and/or geography subset. The year parameter as well at least of a geographic and/or LEI parameter are required when calling this endpoint.</p>

<ul>
<li><strong>Nationwide</strong> <strong>CSV</strong></li>
</ul>

<p><code>GET https://ffiec.cfpb.gov/v2/data-browser-api/data-browser-api/view/nationwide/csv</code></p>

<p>This endpoint is used to download raw HMDA data given the applied filters in csv format. The file will be streamed. The year parameter is required when calling this endpoint.</p>

<ul>
<li><strong>CSV</strong></li>
</ul>

<p><code>GET https://ffiec.cfpb.gov/v2/data-browser-api/data-browser-api/view/csv</code></p>

<p>This endpoint is used to download raw HMDA data given the applied filters in csv format. The file will be streamed. The year parameter as well at least of a geographic and/or LEI parameter are required when calling this endpoint.</p>
<h3 id='data-browser-api-hmda-data-endpoints-supported-geographic-filters'>Supported Geographic Filters</h3>
<table><thead>
<tr>
<th>Geography</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td>MSA/MD</td>
<td>Five Digit MSA/MD Code</td>
</tr>
<tr>
<td>State</td>
<td>Two Letter State Abbreviation (Eg. AL for Alabama)</td>
</tr>
<tr>
<td>County</td>
<td>Five Digit County FIPS Code</td>
</tr>
</tbody></table>
<h3 id='data-browser-api-hmda-data-endpoints-hmda-data-filters'>HMDA Data Filters</h3>
<p>HMDA Data requests support the following filtering parameters. Multiple options are acceptable.</p>

<table><thead>
<tr>
<th>Variable Name</th>
<th>Options</th>
</tr>
</thead><tbody>
<tr>
<td>years</td>
<td>2018,2019</td>
</tr>
<tr>
<td>actions_taken</td>
<td>1,2,3,4,5,6,7,8</td>
</tr>
<tr>
<td>construction_methods</td>
<td>1,2</td>
</tr>
<tr>
<td>dwelling_categories</td>
<td>Single Family (1-4 Units):Site-Built<br>Multifamily:Site-Built<br>Single Family (1-4 Units):Manufactured<br>Multifamily:Manufactured</td>
</tr>
<tr>
<td>ethnicities</td>
<td>Hispanic or Latino<br>Not Hispanic or Latino<br>Joint<br>Ethnicity Not Available<br>Free Form Text Only</td>
</tr>
<tr>
<td>lien_statuses</td>
<td>1,2</td>
</tr>
<tr>
<td>loan_products</td>
<td>Conventional:First Lien<br>FHA:First Lien<br>VA:First Lien<br>FSA/RHS:First Lien<br>Conventional:Subordinate Lien<br>FHA:Subordinate Lien<br>VA:Subordinate Lien<br>FSA/RHS:Subordinate Lien</td>
</tr>
<tr>
<td>loan_purposes</td>
<td>1,2,31,32,4,5</td>
</tr>
<tr>
<td>loan_types</td>
<td>1,2,3,4</td>
</tr>
<tr>
<td>races</td>
<td>Asian<br>Native Hawaiian or Other Pacific Islander<br>Free Form Text Only<br>Race Not Available<br>American Indian or Alaska Native<br>Black or African American<br>2 or more minority races<br>White<br>Joint</td>
</tr>
<tr>
<td>sexes</td>
<td>Male<br>Female<br>Joint<br>Sex Not Available</td>
</tr>
<tr>
<td>total_units</td>
<td>1,2,3,4,5-24,25-49,50-99,100-149,&gt;149</td>
</tr>
</tbody></table>
<h3 id='data-browser-api-hmda-data-endpoints-aggregation-example'>Aggregation Example</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<pre><code class="text">
  <b>Request:</b>
  curl "https://ffiec.cfpb.gov/v2/data-browser-api/view/aggregations?states=MD&years=2018&actions_taken=5,6&races=White,Asian,Joint"

  <b>JSON Response:</b>
  {
    "parameters": {
        "state": "MD",
        "actions_taken": "5,6",
        "races": "Asian"
    },
    "aggregations": [
        {
            "count": 679,
            "sum": 1.90835E8,
            "actions_taken": "5",
            "races": "Asian",
            "state": "MD"
        },
        {
            "count": 716,
            "sum": 2.5435E8,
            "actions_taken": "6",
            "races": "Asian",
            "state": "MD"
        }
    ],
    "servedFrom": "cache"
}
</code></pre>

<p>Get an aggregation, in JSON format, of HMDA Data reported in 2018 in Maryland, with action takens <code>5 - File closed for incompleteness</code>, or <code>6 - Purchased loan</code>, where the reported race was Asian.</p>

<p><code>GET</code> JSON with the following parameters</p>

<table><thead>
<tr>
<th>var</th>
<th>value</th>
</tr>
</thead><tbody>
<tr>
<td>years</td>
<td>2018</td>
</tr>
<tr>
<td>states</td>
<td>MD</td>
</tr>
<tr>
<td>actions_taken</td>
<td>5,6</td>
</tr>
<tr>
<td>races</td>
<td>Asian</td>
</tr>
</tbody></table>
<h3 id='data-browser-api-hmda-data-endpoints-csv-example'>CSV Example</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<pre><code class="text">
  <b>Request:</b>
  curl -L "https://ffiec.cfpb.gov/v2/data-browser-api/view/csv?states=CA,MD,DC&years=2018&actions_taken=5"

  <b>CSV Response:</b>
  <img src="../images/DataBrowserCsvExample.png" class="lang-specific shell">
</code></pre>

<p>Get a CSV containing all HMDA data reported in 2018 in California, Maryland, or DC, with action taken <code>5 - File closed for incompleteness</code>.</p>

<p><code>GET</code> CSV file with the following parameters</p>

<table><thead>
<tr>
<th>var</th>
<th>value</th>
</tr>
</thead><tbody>
<tr>
<td>states</td>
<td>CA, MD, DC</td>
</tr>
<tr>
<td>years</td>
<td>2018</td>
</tr>
<tr>
<td>action_taken</td>
<td>5</td>
</tr>
</tbody></table>
<h2 id='data-browser-api-hmda-filers'>HMDA Filers</h2>
<p><code>GET https://ffiec.cfpb.gov/v2/data-browser-api/data-browser-api/view/filers</code></p>

<p>This endpoint can be used to fetch list of financial instituions present in the HMDA dataset. The year parameter is required when calling this endpoint.</p>
<h3 id='data-browser-api-hmda-filers-hmda-filer-parameters'>HMDA Filer Parameters</h3>
<table><thead>
<tr>
<th>Parameter Name</th>
<th>Options</th>
</tr>
</thead><tbody>
<tr>
<td>years</td>
<td>CSV list of years (example: 2018,2019)</td>
</tr>
<tr>
<td>states</td>
<td>two letter state code</td>
</tr>
<tr>
<td>msamds</td>
<td>5 digit integer code</td>
</tr>
<tr>
<td>counties</td>
<td>5 digit integer code</td>
</tr>
</tbody></table>
<h3 id='data-browser-api-hmda-filers-hmda-filers-example'>HMDA Filers Example</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<pre><code class="text">
  <b>Request:</b>
  curl "https://ffiec.cfpb.gov/v2/data-browser-api/view/filers?states=MD,DC&years=2018"

  <b>JSON Format Response:</b>
  {
    "institutions":[
      {
          "lei":"lei",
          "name":"institution name",
          "period":2018
      },
      {
          "lei":"lei",
          "name":"institution name",
          "period":2018
      }
    ]
  }
</code></pre>

<p><code>GET</code> with the following parameters</p>

<table><thead>
<tr>
<th>var</th>
<th>value</th>
</tr>
</thead><tbody>
<tr>
<td>years</td>
<td>2018</td>
</tr>
<tr>
<td>states</td>
<td>MD, DC</td>
</tr>
</tbody></table>
<h2 id='data-browser-api-errors'>Errors</h2>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<pre><code class="text">
  <b>Request:</b>
  curl "https://ffiec.cfpb.gov/v2/data-browser-api/view/csv"

  <b>JSON Response:</b>
  {
      "errorType": "provide-atleast-msamds-or-states",
      "message": "Provide year and either states or msamds or both"
  }
</code></pre>

<p>Incorrect calls will result in an error. For example the following call will result in an error since there is no state(s)/msamds and years provided.</p>

<p><br></p>
<h1 id='rate-spread'>Rate Spread</h1><h2 id='rate-spread-rate-spread-api'>Rate Spread API</h2>
<p>The following endpoints allow users to provide loan information and returns the associated ratespread either one at a time in JSON format or in a batch in CSV format.</p>

<p>This API is what powers the <a href="https://ffiec.cfpb.gov/tools/rate-spread">Rate Spread Calculator application</a>.</p>

<p><strong>Note:</strong> The response is either a number representing the rate spread or &quot;NA&quot;.</p>
<h2 id='rate-spread-rate-spread-parameters'>Rate Spread Parameters</h2>
<p>The following parameters must be provided when using any ratespread API. These are provided in either JSON or CSV format.</p>

<table><thead>
<tr>
<th>Variable</th>
<th>Type</th>
<th>Accepted Values</th>
</tr>
</thead><tbody>
<tr>
<td>action_taken_type</td>
<td>integer</td>
<td><code>1</code> = Originated<br><code>2</code> = Approved Not Accepted<br><code>8</code> = Pre-approval request approved but not Accepted<br><code>3</code>, <code>4</code>, <code>5</code>, <code>6</code> or <code>7</code> will result in <code>NA</code></td>
</tr>
<tr>
<td>loan_term</td>
<td>integer</td>
<td>Range from <code>1</code> - <code>50</code></td>
</tr>
<tr>
<td>amortization_type</td>
<td>String</td>
<td><code>FixedRate</code> or <code>VariableRate</code></td>
</tr>
<tr>
<td>apr</td>
<td>double</td>
<td>The annual Percentage Rate on the loan, eg <code>6.0</code></td>
</tr>
<tr>
<td>lock_in_date</td>
<td>date</td>
<td><code>YYYY-MM-DD</code></td>
</tr>
<tr>
<td>reverse_mortgage</td>
<td>integer</td>
<td><code>2</code> = false<br><code>1</code> = true, will result in <code>NA</code></td>
</tr>
</tbody></table>
<h2 id='rate-spread-single-ratespread'>Single Ratespread</h2>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<p><pre><code class="text">
  <b>Request:</b></p>

<p>curl -X POST &quot;https://ffiec.cfpb.gov/public/rateSpread&quot; -H &quot;Content-Type: application/json&quot; -d &#39;{ &quot;actionTakenType&quot;: 1, &quot;loanTerm&quot;: 30, &quot;amortizationType&quot;: &quot;FixedRate&quot;, &quot;apr&quot;: 6.0, &quot;lockInDate&quot;: &quot;2017-11-20&quot;, &quot;reverseMortgage&quot;: 2 }&#39;</p>

<p><b>JSON Response:</b></p>

<p>{&quot;rateSpread&quot;:&quot;2.010&quot;}
  </code></pre></p>

<p>This endpoint accepts loan data in JSON format and returns a JSON object containing the associated ratespread.</p>

<p><code>POST</code> <code>https://ffiec.cfpb.gov/public/rateSpread</code></p>

<p>The JSON example contains the following parameters:</p>

<table><thead>
<tr>
<th>Variable</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>actionTakenType</td>
<td>1</td>
</tr>
<tr>
<td>loanTerm</td>
<td>30</td>
</tr>
<tr>
<td>amortizationType</td>
<td>FixedRate</td>
</tr>
<tr>
<td>apr</td>
<td>6.0</td>
</tr>
<tr>
<td>lockInDate</td>
<td>2017-11-20</td>
</tr>
<tr>
<td>reverseMortgage</td>
<td>2</td>
</tr>
</tbody></table>
<h2 id='rate-spread-batch-ratespreads'>Batch Ratespreads</h2>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<pre><code class="text">
<b>Request:</b>

curl -X POST "https://ffiec.cfpb.gov/public/rateSpread/csv" -F file=<file.csv>

<b>CSV Response file with an added column for rate_spread calculated for each row:</b>

action_taken_type,loan_term,amortization_type,apr,lock_in_date,reverse_mortgage,rate_spread
1,30,FixedRate,6.0,2017-11-20,2,2.010
1,30,VariableRate,6.0,2017-11-20,2,2.150
</code></pre>

<p>In order to batch caluculate ratespreads the <code>csv</code> endpoint can be used. This endpoint accepts a CSV file of ratespread data and returns a CSV file with a new column for the ratespread.</p>

<p><code>POST</code> <code>https://ffiec.cfpb.gov/public/rateSpread/csv</code></p>

<p>The CSV file example contains the following contents:</p>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>30</td>
<td>FixedRate</td>
<td>6.0</td>
<td>2017-11-20</td>
</tr>
<tr>
<td>1</td>
<td>30</td>
<td>VariableRate</td>
<td>6.0</td>
<td>2017-11-20</td>
</tr>
</tbody></table>
<h1 id='check-digit'>Check Digit</h1>
<p>The following endpoints allow users to generate and validate check digits either one at a time in JSON format or in a batch in CSV format.</p>

<p>This API is what powers the <a href="https://ffiec.cfpb.gov/tools/check-digit">Check Digit Tool</a>.</p>
<h3 id='check-digit-batch-ratespreads-check-digit-endpoints'>Check Digit Endpoints</h3>
<p><strong>Single Checkdigit Generation</strong></p>

<p><code>POST https://ffiec.cfpb.gov/v2/public/uli/checkDigit</code></p>

<p>This endpoint takes a single ULI in JSON format and returns a single two digit check digit in JSON format. </p>

<p><strong>Batch Checkdigit Generation</strong></p>

<p><code>POST https://ffiec.cfpb.gov/v2/public/uli/checkDigit/csv</code></p>

<p>This endpoint takes multiple ULIs in CSV format and returns two digit check digits in CSV format.</p>

<p><strong>Single Checkdigit Validation</strong></p>

<p><code>POST https://ffiec.cfpb.gov/v2/public/uli/validate</code></p>

<p>This endpoint takes a single ULI with check digits in JSON format and returns whether it is valid in JSON format. </p>

<p><strong>Batch Checkdigit Validation</strong></p>

<p><code>POST https://ffiec.cfpb.gov/v2/public/uli/validate/csv</code></p>

<p>This endpoint multiple ULIs with check digits in CSV format and returns whether they is valid in CSV format.</p>
<h3 id='check-digit-batch-ratespreads-single-check-digit-generation'>Single Check Digit Generation</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<pre><code class="text">
  <b>Request:</b>
  curl POST 'https://ffiec.cfpb.gov/v2/public/uli/checkDigit' \
  --header 'Content-Type: application/json' \
  --data-raw '{loanId: "EILKZAIZF6TX4HB8ZDX33H"}'

  <b>JSON Response:</b>
  {
    "loanId":"EILKZAIZF6TX4HB8ZDX33H",
    "checkDigit":"54",
    "uli":"EILKZAIZF6TX4HB8ZDX33H54"
  }
  </code></pre>

<p><code>POST</code> request to get a single check digit.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/uli/checkDigit</code></td>
</tr>
<tr>
<td>Payload</td>
<td>JSON</td>
</tr>
<tr>
<td>Return</td>
<td>JSON</td>
</tr>
</tbody></table>
<h3 id='check-digit-batch-ratespreads-batch-check-digit-generation'>Batch Check Digit Generation</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<pre><code class="text">
  <b>Request:</b>
  curl -X POST \
  "https://ffiec.cfpb.gov/v2/public/uli/validate/csv" \
  -F file=@<PATH>/check_digit_sample_file.csv

  <b>Request Payload:</b>
  B90YWS6AFX2LGWOXJ1LDNIXOQ6O0000SLR6FSJJ5R87
  95GVQQ61RS6CWQF0SZD9F4VRXNN1OCVXHP1JURF9ZJS

  <b>CSV Response:</b>
  loanId,checkDigit,uli
  B90YWS6AFX2LGWOXJ1LDNIXOQ6O0000SLR6FSJJ5R87,51,B90YWS6AFX2LGWOXJ1LDNIXOQ6O0000SLR6FSJJ5R8751
  95GVQQ61RS6CWQF0SZD9F4VRXNN1OCVXHP1JURF9ZJS,92,95GVQQ61RS6CWQF0SZD9F4VRXNN1OCVXHP1JURF9ZJS92
</code></pre>

<p><code>POST</code> request to get batch check digits.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/uli/checkDigit/csv</code></td>
</tr>
<tr>
<td>Payload</td>
<td>CSV file as shown bellow</td>
</tr>
<tr>
<td>Return</td>
<td>CSV</td>
</tr>
</tbody></table>
<h3 id='check-digit-batch-ratespreads-batch-check-digit-generation-bad-request'>Batch Check Digit Generation (Bad Request)</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<pre><code class="text">
  <b>Request:</b>
  curl -X POST \
  "https://ffiec.cfpb.gov/v2/public/uli/validate/csv" \
  -F file=@<PATH>/check_digit_sample_file.csv

  <b>Request Payload:</b>
  BANK1LTEST123451150
  BANK1LEIFORTEST123458001
  BANK1LEIFORTEST123458003
  BANK1LEIFO!TEST123458234
  BANK343434733473438000034343473347343800000
  TESTT343434_3347343800001


  <b>CSV Response:</b>
  loanId,checkDigit,uli
  BANK1LTEST123451150,Error,Loan ID is not between 21 and 43 characters long
  BANK1LEIFORTEST123458001,26,BANK1LEIFORTEST12345800126
  BANK1LEIFORTEST123458003,20,BANK1LEIFORTEST12345800320
  BANK1LEIFO!TEST123458234,Error,Loan ID is not alphanumeric
  BANK343434733473438000034343473347343800000,79,BANK34343473347343800003434347334734380000079
  TESTT343434_3347343800001,Error,Loan ID is not alphanumeric
</code></pre>

<p><code>POST</code> request to get batch check digits.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/uli/checkDigit/csv</code></td>
</tr>
<tr>
<td>Payload</td>
<td>CSV file as shown bellow</td>
</tr>
<tr>
<td>Return</td>
<td>CSV</td>
</tr>
</tbody></table>
<h3 id='check-digit-batch-ratespreads-single-check-digit-validation'>Single Check Digit Validation</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<pre><code class="text">
  <b>Request:</b>
  curl POST 'https://ffiec.cfpb.gov/v2/public/uli/validate' \
  --header 'Content-Type: application/json' \
  --data-raw '{"uli": "EILKZAIZF6TX4HB8ZDX33H54"}'

  <b>JSON Response:</b>
  {
    "isValid": true
  }
</code></pre>

<p><code>POST</code> request to validate a single check digit.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/uli/validate</code></td>
</tr>
<tr>
<td>Payload</td>
<td>JSON</td>
</tr>
<tr>
<td>Return</td>
<td>JSON</td>
</tr>
</tbody></table>
<h3 id='check-digit-batch-ratespreads-batch-check-digit-validation'>Batch Check Digit Validation</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<pre><code class="text">
  <b>Request:</b>
  curl -X POST \
  "https://ffiec.cfpb.gov/v2/public/uli/validate/csv" \
  -F file=@<PATH>/check_digit_sample_file.csv
  
  <b>Request Payload:</b>
  95GVQQ61RS6CWQF0SZD9F4VRXNN1OCVXHP1JURF9ZJS92
  B90YWS6AFX2LGWOXJ1LDNIXOQ6O0000SLR6FSJJ5R89
  
  <b>CSV Response:</b>
  uli,isValid
  95GVQQ61RS6CWQF0SZD9F4VRXNN1OCVXHP1JURF9ZJS92,true
  B90YWS6AFX2LGWOXJ1LDNIXOQ6O0000SLR6FSJJ5R89,false
</code></pre>

<p><code>POST</code> request to batch validate check digits.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/uli/validate/csv</code></td>
</tr>
<tr>
<td>Payload</td>
<td>CSV file as shown bellow</td>
</tr>
<tr>
<td>Return</td>
<td>CSV</td>
</tr>
</tbody></table>
<h3 id='check-digit-batch-ratespreads-batch-check-digit-validation-bad-request'>Batch Check Digit Validation(Bad Request)</h3>
<blockquote>
<p><strong>Example Request and Response</strong></p>
</blockquote>

<pre><code class="text">
  <b>Request:</b>
  curl -X POST \
  "https://ffiec.cfpb.gov/v2/public/uli/validate/csv" \
  -F file=@<PATH>/check_digit_sample_file.csv
  
  <b>Request Payload:</b>
  BANK1LEIF345115014
  BANK1LEIFORTEST12345800126
  BANK1LEIFOR@#EST12345800320
  BANK1LEIFORTEST12345823406
  BANK34343473*4734380000037
  BANK3434347334734380000131BANK3434347334734380000131BANK3434347334734380000131
  
  <b>CSV Response:</b>
  uli,isValid
  BANK1LEIF345115014,ULI is not between 23 and 45 characters long
  BANK1LEIFORTEST12345800126,true
  BANK1LEIFOR@#EST12345800320,ULI is not alphanumeric
  BANK1LEIFORTEST12345823406,true
  BANK34343473*4734380000037,ULI is not alphanumeric
  BANK3434347334734380000131BANK3434347334734380000131BANK3434347334734380000131,ULI is not between 23 and 45 characters long  
</code></pre>

<p><code>POST</code> request to batch validate check digits.</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/public/uli/validate/csv</code></td>
</tr>
<tr>
<td>Payload</td>
<td>CSV file as shown bellow</td>
</tr>
<tr>
<td>Return</td>
<td>CSV</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
